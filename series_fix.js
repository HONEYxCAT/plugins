// 1. –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏
let item = Lampa.TimeTable.all().find(i => i.id == targetId);

if (item) {
    console.log(`–ë—ã–ª –≤—ã–±—Ä–∞–Ω —Å–µ–∑–æ–Ω: ${item.season}`);
    item.season = 1; // <--- –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –°–¢–ê–í–ò–ú 1 –°–ï–ó–û–ù
    // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ —ç–ø–∏–∑–æ–¥–æ–≤, —á—Ç–æ–±—ã –æ–Ω —Å–∫–∞—á–∞–ª –∏—Ö –∑–∞–Ω–æ–≤–æ –¥–ª—è 1 —Å–µ–∑–æ–Ω–∞
    item.episodes = []; 
    console.log("‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞ –°–µ–∑–æ–Ω 1. –°–ø–∏—Å–æ–∫ —Å–µ—Ä–∏–π —Å–±—Ä–æ—à–µ–Ω.");
} else {
    console.log("–ó–∞–ø–∏—Å—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –¥–ª—è 1 —Å–µ–∑–æ–Ω–∞.");
    Lampa.TimeTable.all().push({
        id: targetId,
        season: 1,
        episodes: [],
        ssn: 0
    });
}

// 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ LocalStorage (—á—Ç–æ–±—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ —Å–ª–µ—Ç–µ–ª–æ)
Lampa.Storage.set('timetable', Lampa.TimeTable.all());
console.log("‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.");

// 3. –ß–∏—Å—Ç–∏–º –∫–µ—à (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ deleteData)
if (Lampa.Cache && Lampa.Cache.deleteData) {
    Lampa.Cache.deleteData('timetable', targetId).then(()=>{
         console.log("‚úÖ –ö–µ—à –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ—á–∏—â–µ–Ω.");
         console.log("%cüîÑ –¢–ï–ü–ï–†–¨ –û–ë–ù–û–í–ò–¢–ï –°–¢–†–ê–ù–ò–¶–£ (F5)!", "color: #00ff00; font-size: 20px;");
    }).catch(e => {
         console.warn("–û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):", e);
         console.log("%cüîÑ –¢–ï–ü–ï–†–¨ –û–ë–ù–û–í–ò–¢–ï –°–¢–†–ê–ù–ò–¶–£ (F5)!", "color: #00ff00; font-size: 20px;");
    });
} else {
    console.log("%cüîÑ –¢–ï–ü–ï–†–¨ –û–ë–ù–û–í–ò–¢–ï –°–¢–†–ê–ù–ò–¶–£ (F5)!", "color: #00ff00; font-size: 20px;");
}
